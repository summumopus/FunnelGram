<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FunnelGram - Funnel</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="funnel-container">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <div class="funnel-step" id="funnelStep">
            <div style="text-align: center; padding: 2rem;">
                <div class="loading">Loading your funnel...</div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Update progress bar
        function updateProgressBar(progress) {
            const progressBar = document.getElementById('progressBar');
            if (progressBar) {
                progressBar.style.width = `${progress}%`;
            }
        }

        // Initialize progress based on current step
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const currentStep = parseInt(urlParams.get('step')) || 1;
            const progress = Math.min((currentStep / 3) * 100, 100); // Assuming 3 steps max for demo
            updateProgressBar(progress);
        });
    </script>
</body>

</html>